<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MEGA SLOT - 管理画面</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="admin-container">
        <!-- ヘッダー -->
        <header class="admin-header">
            <h1>MEGA SLOT 管理画面</h1>
            <div class="admin-nav">
                <button class="nav-btn active" data-section="patterns">パターン管理</button>
                <button class="nav-btn" data-section="statistics">統計情報</button>
                <button class="nav-btn" data-section="history">コード履歴</button>
                <button class="nav-btn" data-section="settings">設定</button>
                <button class="nav-btn" data-section="preview">プレビュー・URL生成</button>
            </div>
        </header>

        <!-- アラート表示エリア -->
        <div id="alert-container"></div>

        <!-- パターン管理セクション -->
        <section id="patterns" class="admin-section active">
            <h2>確率パターン管理</h2>
            
            <div class="pattern-management">
                <button id="new-pattern-btn" class="primary-btn">新しいパターンを作成</button>
                
                <!-- パターン作成・編集フォーム -->
                <div id="pattern-form" class="pattern-form" style="display: none;">
                    <h3>パターン設定</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="pattern-name">パターン名:</label>
                            <input type="text" id="pattern-name" placeholder="例: 高確率パターン">
                        </div>
                        
                        <div class="form-group">
                            <label for="prob-secret">シークレット確率 (%):</label>
                            <input type="number" id="prob-secret" min="0" max="100" step="0.1" value="0.1">
                        </div>
                        
                        <div class="form-group">
                            <label for="prob-jackpot">ジャックポット確率 (%):</label>
                            <input type="number" id="prob-jackpot" min="0" max="100" step="0.1" value="1.0">
                        </div>
                        
                        <div class="form-group">
                            <label for="prob-bigwin">ビッグウィン確率 (%):</label>
                            <input type="number" id="prob-bigwin" min="0" max="100" step="0.1" value="5.0">
                        </div>
                        
                        <div class="form-group">
                            <label for="prob-smallwin">スモールウィン確率 (%):</label>
                            <input type="number" id="prob-smallwin" min="0" max="100" step="0.1" value="15.0">
                        </div>
                        
                        <div class="form-group">
                            <label for="prob-lose">ハズレ確率 (%) - 自動計算:</label>
                            <input type="number" id="prob-lose" readonly value="78.9">
                        </div>
                    </div>
                    
                    <h4>固定コード設定（オプション）</h4>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="code-secret">シークレットコード:</label>
                            <input type="text" id="code-secret" placeholder="空欄の場合は自動生成">
                        </div>
                        
                        <div class="form-group">
                            <label for="code-jackpot">ジャックポットコード:</label>
                            <input type="text" id="code-jackpot" placeholder="空欄の場合は自動生成">
                        </div>
                        
                        <div class="form-group">
                            <label for="code-bigwin">ビッグウィンコード:</label>
                            <input type="text" id="code-bigwin" placeholder="空欄の場合は自動生成">
                        </div>
                        
                        <div class="form-group">
                            <label for="code-smallwin">スモールウィンコード:</label>
                            <input type="text" id="code-smallwin" placeholder="空欄の場合は自動生成">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button id="save-pattern-btn" class="primary-btn">保存</button>
                        <button id="cancel-pattern-btn" class="secondary-btn">キャンセル</button>
                    </div>
                </div>
                
                <!-- パターン一覧 -->
                <div id="pattern-list" class="pattern-list">
                    <!-- パターンアイテムがここに動的に追加される -->
                </div>
            </div>
        </section>

        <!-- 統計情報セクション -->
        <section id="statistics" class="admin-section">
            <h2>統計情報</h2>
            <div class="stats-container">
                <div id="stats-grid" class="stats-grid">
                    <!-- 統計データがここに動的に追加される -->
                </div>
                <div class="stats-actions">
                    <button id="reset-stats-btn" class="danger-btn">統計をリセット</button>
                </div>
            </div>
        </section>

        <!-- コード履歴セクション -->
        <section id="history" class="admin-section">
            <h2>コード履歴</h2>
            <div class="history-container">
                <div class="history-actions">
                    <button id="export-history-btn" class="primary-btn">履歴をエクスポート (CSV)</button>
                    <button id="clear-history-btn" class="danger-btn">履歴をクリア</button>
                </div>
                
                <div class="history-table-container">
                    <table class="history-table">
                        <thead>
                            <tr>
                                <th>日時</th>
                                <th>コード</th>
                                <th>タイプ</th>
                                <th>パターン</th>
                            </tr>
                        </thead>
                        <tbody id="history-tbody">
                            <!-- 履歴データがここに動的に追加される -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- 設定セクション -->
        <section id="settings" class="admin-section">
            <h2>ゲーム設定</h2>
            
            <div class="settings-container">
                <div class="setting-group">
                    <h3>ロゴ設定</h3>
                    <div class="logo-upload-area">
                        <input type="file" id="logo-upload" accept="image/*">
                        <img id="logo-preview" class="logo-preview" style="display: none;">
                        <div class="logo-actions">
                            <button id="save-logo-btn" class="primary-btn">ロゴを保存</button>
                            <button id="remove-logo-btn" class="danger-btn">ロゴを削除</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- プレビュー・URL生成セクション -->
        <section id="preview" class="admin-section">
            <h2>プレビュー・URL生成</h2>
            
            <div class="preview-container">
                <div class="preview-group">
                    <h3>パターンプレビュー</h3>
                    <div class="form-group">
                        <label for="preview-pattern-select">プレビューするパターン:</label>
                        <select id="preview-pattern-select">
                            <!-- パターンオプションがここに動的に追加される -->
                        </select>
                    </div>
                    
                    <div class="preview-links">
                        <a id="normal-game-link" href="#" target="_blank" class="preview-link">通常ゲーム</a>
                        <a id="test-game-link" href="#" target="_blank" class="preview-link">テストモード</a>
                    </div>
                </div>
                
                <div class="url-generation-group">
                    <h3>カスタムURL生成</h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="custom-url-name">URL名:</label>
                            <input type="text" id="custom-url-name" placeholder="例: イベント用URL">
                        </div>
                        
                        <div class="form-group">
                            <label for="spin-limit">回転回数制限:</label>
                            <input type="number" id="spin-limit" min="1" max="1000" placeholder="例: 10">
                        </div>
                        
                        <div class="form-group">
                            <label for="url-count">生成するURL数:</label>
                            <input type="number" id="url-count" min="1" max="100" value="1" placeholder="例: 3">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button id="generate-url-btn" class="primary-btn">URL生成</button>
                        <button id="export-urls-btn" class="secondary-btn" style="display: none;">URL一覧をCSV出力</button>
                    </div>
                    
                    <div id="generated-urls" class="generated-urls">
                        <!-- 生成されたURLがここに表示される -->
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script src="admin.js"></script>
</body>
</html>

